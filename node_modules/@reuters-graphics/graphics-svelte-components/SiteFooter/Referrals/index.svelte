<script>
  import { browser } from '$app/env';
  import Referrals from './Referrals.svelte';
  import IntersectionObserver from './IntersectionObserver.svelte';

  export let referrals = [];
</script>

<IntersectionObserver let:intersecting top="{2400}" once="{true}">
  {#if intersecting}
    <section class="referrals">
      <h2>
        <a href="https://graphics.reuters.com/">More from Reuters Graphics</a>
      </h2>
      {#if browser}
        <Referrals referrals="{referrals}" />
      {/if}
    </section>
  {/if}
</IntersectionObserver>

<style>section.referrals {
  margin: 0;
  max-width: 1400px;
  padding: 25px 0;
  padding-left: 2.2222222222vw;
  padding-right: 2.2222222222vw;
  border-top: 1px solid var(--nav-rules, #999);
}
@media (max-width: 1023px) {
  section.referrals {
    padding-left: 4.2666666667vw;
    padding-right: 4.2666666667vw;
  }
}
@media (min-width: 1440px) {
  section.referrals {
    padding-left: 32px;
    padding-right: 32px;
  }
}
section.referrals h2 {
  font-size: 16px;
  font-weight: 500;
  margin: 0 0 10px;
  color: var(--nav-primary, #666);
}
section.referrals h2 a {
  color: var(--nav-primary, #666);
}</style>
